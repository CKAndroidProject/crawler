> 原文链接: https://www.anquanke.com//post/id/235630 


# 基于区块链的医疗系统的数据卸载和共享的合作架构（下）


                                阅读量   
                                **145878**
                            
                        |
                        
                                                                                                                                    ![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC)
                                                                                            



##### 译文声明

本文是翻译文章，文章原作者，文章来源：arxiv.org
                                <br>原文地址：[https://arxiv.org/abs/2103.10186](https://arxiv.org/abs/2103.10186)

译文仅供参考，具体内容表达以及含义原文为准

[![](https://p0.ssl.qhimg.com/t01991905bd8cc698a0.jpg)](https://p0.ssl.qhimg.com/t01991905bd8cc698a0.jpg)



## 4.实验结果与评价

在本节中，我们将详细介绍实验和执行实施评估。

### **A.实验设置**

我们通过数据卸载和数据共享测试来实现完整的实验，用以证明所提出的方案，如图3所示。

[![](https://p5.ssl.qhimg.com/t01c5a94b117e70f53a.jpg)](https://p5.ssl.qhimg.com/t01c5a94b117e70f53a.jpg)

对于健康数据卸载的实现，我们采用了由Amazon EC2服务器（Intel Xeon系列）启用的Lambda Edge[20]服务，CPU 2.5 GHz，内存为2 GB，最大网络带宽3500 Mbps。我们使用了一款索尼安卓手机作为MD，搭载高通骁龙845处理器，内存为1GB，电池容量为2870mAh。MD通过Wi-Fi连接到无线网络上的边缘云计算，最大数据速率为11 Mbit/s。在数据加密方面，我们采用对称算法AES来保存数据，因为它的时间和能量消耗更少[18]，很适合低延迟的健康应用。

医疗数据和编程代码对于我们测试是必要的。对于一个特定的用例，我们使用Biokin传感器[3]作为物联网设备，同时收集人体运动数据（加速度和陀螺仪时间序列数据），并存储在单独的文件中，由MD和边缘服务器执行。通过我们的数据分析算法，我们可以指定人体运动的严重程度（即运动障碍），以便在临床决策期间为医生提供服务[3]。在移动性能评估方面，我们采用了Firebase性能监测服务[21]来测量处理时间、电池消耗和内存使用情况。第三节A部分中提到的用于卸载优化的移动应用，是用Android studio 3.5实现的。同时，对于边缘执行的评估，我们利用亚马逊云上提供的Kinesis数据分析服务来监控数据流和测量计算。

在数据共享实验中，我们部署了一个由亚马逊云支持的私有Ethereum区块链网络，其中采用两台虚拟机AWS EC2作为矿工，两台虚拟机Ubuntu 16.04 LTS分别作为管理员和EHRs管理器。分散式IPFS存储与亚马逊云集成，其网络配置在[14]中给出。我们的智能合约由Solidity编程语言编写，并部署在AWS Lambda函数上，其源代码见[14]。用户可以通过安卓手机与智能合约进行交互，在手机上安装了Geth客户端，将每部智能手机变成一个Ethereum节点。我们还用两部安卓手机调查分享结果。关于我们系统的硬件配置和参数设置的更多细节在我们最近的作品[3]，[14]，[16]中有描述。

### **B.实验结果**

**1）数据卸载性能：**我们将我们的方案与两个基线进行比较：本地执行[14]（只在设备上执行数据）和云计算[18]（卸载到云服务器），以证明我们方案的优势。评价中使用了从传感器收集的一组不同大小（200 KB-1200 KB）的健康数据文件[18]。我们对每项测试都实施10次，以得到平均值，并通过三个性能指标进行评估：处理时间、能耗和内存使用情况，如图4所示。

对于处理时间，包括本地用例的执行时间和加密时间，云和边缘情况下的卸载时间和远程执行时间。从图4的结果可以看出，所提出的边缘方案在平均处理时间方面性能最好。例如，通过边缘方案执行一个200KB的文件只消耗1.1秒，而在云端和本地方案中分别需要1.3秒和1.5秒左右。这样一来，利用边缘计算可以节省10-18%的数据执行时间。此外，与本地方案和云方案相比，所提出的边缘方案在计算一个1200 KB的文件时，分别节省了高达31%和15%的时间。通过选取的人体运动数据集，我们还发现，虽然在卸载中集成了数据加密，但边缘云卸载方案仍然比本地方案取得了更好的卸载性能，显示了所提出的加密技术的效率。

[![](https://p5.ssl.qhimg.com/t01e8da1da6763716b8.jpg)](https://p5.ssl.qhimg.com/t01e8da1da6763716b8.jpg)

对于电池的消耗，健康数据任务在使用边缘卸载方案执行时，消耗的能量更少。例如，卸载一个200KB的文件，比本地计算少消耗11%的能量，比云方案少消耗5%的能量。特别是，当数据大小增加时，边缘方案的能源使用效率会更高。例如，执行一个1000 KB和1200 KB的文件，将任务卸载到边缘服务器时，分别可以节省21.3%和28.1%的能量，而云端和本地方案消耗的能量更高。在内存性能方面，边缘方案和云方案由于使用了相同的安全加密机制，所以内存使用量相同。然而，这些方案实现了更高的内存性能，在执行200 KB和1200 KB文件时，与本地方案相比，分别节省了5%和9%的内存。需要注意的是，上述实现结果是在提出的卸载应用中，利用人体运动数据和当前设备和边缘服务器的硬件设置得到的。如脑电图（EEG）或视频数据这样具有其他健康数据类型的不同的移动应用，以及不同的硬件设置可以实现不同的卸载性能[7]。但一般情况下，当健康数据规模增大时，所提出的边缘卸载方案在增强时延、能耗和内存占用等方面，能获得最佳性能，并显示出比云方案和本地方案更优越的优势。

**2）数据共享性能：**我们研究了两个主要的性能指标：提出的数据共享的访问控制和网络开销。

我们给出了授权和未授权访问的两个用例来评估访问控制，如图5所示。目标是让终端用户能够有效检索云上的EHRs，并防止我们的云数据上的恶意访问。移动用户，即医生，如果想在云端访问病人的电子病历，可以使用Ethereum账户注册用户信息，以便加入区块链（见图5（a））。当他的请求被云端EHRs管理器验证后，他立刻开始通过提供病人的地址（包括卸载方案中定义的AreaID和PatientID）进行访问EHRs的事务，如图5（b）所示然后，我们的共享系统会返回数据访问结果，这些结果也会在他的手机界面上更新（见图5（b））。因此，医生可以从用药的卸载阶段计算出的患者伤残等级（分数）。当EHRs访问过程结束后，通过挖矿过程将新的事务追加到区块链中，并广播给所有参与者。因此，患者可以监控共享事务，并知道谁使用了他们的数据（图5(c)），从而确保用户数据的所有权和网络可信度。

[![](https://p5.ssl.qhimg.com/t01bbcb9246f132a207.jpg)](https://p5.ssl.qhimg.com/t01bbcb9246f132a207.jpg)

在未经授权访问的情况下，智能合约将通过访问协议与预定义政策列表进行验证和检测。这样的非法请求会被阻止，并从我们的电子健康记录数据库中被丢弃，并向请求者返回警告信息（见图5（d））。智能合约也会发出相应的未经授权访问的事务（见图5（e））。显然，区块链能够控制数据访问，从而提高系统的可靠性和数据隐私性。而下一小节将作进一步的安全分析。

此外，我们还研究了数据共享的时间开销，如表1所示。多个MD可以同时访问IPFS存储进行数据检索，并测量时间延迟。特别是，我们将我们设计的去中心化IPFS存储与利用传统中心云存储进行共享的基线[11]进行了比较。实验结果清楚地表明，在IPFS云区块链上提出的去中心化存储方案与传统的中心化存储方案相比，时间开销明显减少。例如，与基线相比，在6个用户和12个用户的情况下，所提出的方案可以分别节省17%和30%的云端数据检索时间，这说明所提出的基于IPFS的存储方式具有明显的优势。

[![](https://p2.ssl.qhimg.com/t01f0ea801a68897ef4.jpg)](https://p2.ssl.qhimg.com/t01f0ea801a68897ef4.jpg)

### **C.智能合约性能**

为了评估智能合约在我们的医疗系统中的性能，我们调查了当我们的Ethereum区块链上有5个移动用户时合约功能的操作成本，如表2所列。成本以Gas为单位计算，然后以本研究时1Gas≈0.00000002 Ether，以及1 Ether≈169.31美元的汇率换算成以太（以太坊区块链的成本单位）和美元。我们考虑的是一个现实的场景，一些新用户可以加入医疗网络，一些现有用户可以离开，因此需要执行AddUser和DeleteUser函数。此外，合同还可以允许用RetrieveEHRs对授权用户进行数据检索，或用Penalty对未授权用户进行强制处罚。这些合同的执行都会产生操作成本，用户需要为其他们的服务使用付费。由表2可知，共享服务的Gas量为1573577 gas（即5.316334美元，≈1.063美元/用户）。显然，使用我们的合同所需的财务成本很低，这表明了所提出的基于合同的数据共享计划的实用性。

[![](https://p2.ssl.qhimg.com/t01dd8dc8b97fd7eac2.jpg)](https://p2.ssl.qhimg.com/t01dd8dc8b97fd7eac2.jpg)

### **D.攻击模型和安全分析**

我们考虑以下两种潜在的威胁类型。外部威胁：在数据卸载和共享过程中，外部攻击者可以获取健康信息。内部威胁：网络参与者可能不受信任，未经用户同意就检索EHRs。我们的设计可以解决这些问题，获得比现有作品更多的安全效益[7-12]。

-当执行卸载时，我们在MDs上采用AES加密，以在传输到边缘服务器之前对医疗数据进行加密。这将在设备和Edger服务器之间建立一个新的安全层，以保护敏感的健康信息免受外部攻击威胁，从而提高数据的保密性。此外，所提出的去中心化的IPFS云系统可以在区块链上的分布式虚拟节点上实现数据存储，而无需中心服务器。一旦健康分析结果的数据文件被上载到IPFS，其哈希值会自动返回到EHRs管理器，并在DHT表中更新。智能合约的哈希检查和文件验证、用户认证相结合，使我们的系统能够抵御外部攻击，大大提高了系统的完整性。

-此外，我们的区块链使用社区验证在云实体、医疗用户和智能合约之间建立了一个去中心化的医疗网络，所有参与者都通过事务账本同步。好奇的用户造成的任何修改都会反映在区块链上，这种恶意事务会通过共识[2]从网络中被丢弃。用户也共享平等的数据管理权，并能对事务进行监控，从而保证数据的所有权和系统的可靠性。



## 5.结论

本文利用边缘云计算和Ethereum区块链，提出了一种新型的医疗数据卸载和数据共享的合作架构。我们首先提出一种隐私感知的数据卸载方案，MDs可以在系统约束下将物联网健康数据卸载到边缘服务器。然后，利用区块链和智能合约引入新的数据共享，实现医疗用户之间的安全数据交换。特别是，我们开发了一种与分散式IFPS云存储设计相关的可靠访问控制机制。各种实验结果表明，所提出的卸载方案与其他基线方法相比，在降低时间延迟、能耗和更好的内存使用方面具有显著的优势。此外，数据共享方案可以实现高效的用户认证，大幅提升数据检索速度，同时防止恶意访问我们医疗系统。系统评估也证明了智能合约的运行成本低，系统安全性有保障，说明我们的方案在医疗领域应用的可行性。



## 参考文献

[1] S. M. Riazul Islam et al., ”The Internet of Things for Health Care: A Comprehensive Survey,” **IEEE Access**, vol. 3, pp. 678-708, 2015.

【下略】
